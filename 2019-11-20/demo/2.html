<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>map</title>
</head>
<body>
	<script>
		
		let map = new Map();
		const map1 = new Map([[1,2],[2,3],[3,4]])

		console.log(map,map1)

		map.set(1,2)
		map.set("1",3)
		const id =  {id:1}
		map.set(id,{name:"张三"})

		const obj = {
			1 : 2,
			"1" : 3
		}
		const a = {id:1}
		const b = a;
		
		console.log(map.get(1))
		console.log(map.get("1"))
		console.log(map.get(id))
		console.log(map.size)
		// console.log(map.clear())
		console.log(obj,map)

		for(let value of map){
			console.log(value)
		}

		//如何把一个对象转换为map
		const user = {
			name: "张三",
			age: 30
		}
		console.log(new Map(Object.entries(user)))
		
		//weakMap
		
		const weakMap = new WeakMap()
		let keyObject = {id:1}
		const valueObject = {name:"张三"}
		weakMap.set(keyObject,valueObject)
		keyObject = null
		console.log(weakMap.has(keyObject))

		console.log(weakMap)


		// 在线访问次数
		
		let visitsCountMap = new Map()
		let zhangsan = {name : "张三"}
		visitsCountMap.set(zhangsan,123)
		// 张三走了
		// 在集合中删除掉
		visitsCountMap.delete(zhangsan)
		// 在内存中删除掉
		zhangsan = null
		console.log(visitsCountMap)



		//

		let visitsCountWeakMap = new WeakMap()
		let zhangsan1 = {name : "张三"}
		visitsCountWeakMap.set(zhangsan1,123)
		// 张三走了
		// 在内存中 和 集合中 都删除了
		zhangsan1 = null
		console.log(visitsCountWeakMap.has(zhangsan1))



















	</script>
	
</body>
</html>