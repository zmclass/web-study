<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>作业</title>
</head>
<body>

	<script>
		//# 2
		const date = "12/11/2019 09:02:28";
		
		function fromatDate(date){
			// 时间差
			const diff = new Date() - new Date(date);
			const sec = Math.floor(diff / 1000);
			const min = Math.floor(diff / 60000);
			const d = new Date(date).getDate();
			const m = new Date(date).getMonth() + 1;
			const y = new Date(date).getFullYear();
			const h = new Date(date).getHours();
			const s = new Date(date).getMinutes();
			if(diff < 1000){
				return "刚刚"
			}
			if(sec < 60){
				return `${sec}秒之前`
			}
			if(min < 60){

				return `${min}分钟之前`
			}
			const result = [
			`0${d}`,
			`0${m}`,
			`${y}`,
			`0${h}`,
			`0${s}`
			].map((item,index) => item.slice(-2))

			return `${result.slice(0,3).join(".")} ${result.slice(-2).join(":")}`
		}


		function formatDate(date) {
			date = new Date(date);
			let dayOfMonth = date.getDate();
			let month = date.getMonth() + 1;
			let year = date.getFullYear();
			let hour = date.getHours();
			let minutes = date.getMinutes();
			let diffMs = new Date() - date;
			let diffSec = Math.round(diffMs / 1000);
			let diffMin = diffSec / 60;
			let diffHour = diffMin / 60;

			// 格式化
			year = (year+"").slice(-2);
			month = month < 10 ? `0${month}` : month;
			dayOfMonth = dayOfMonth < 10 ? `0${dayOfMonth}` : dayOfMonth;

		  if (diffSec < 1) {
		    return '刚刚';
		  } else if (diffMin < 1) {
		    return `${diffSec}秒之前`
		  } else if (diffHour < 1) {
		    return `${diffMin}分钟之前`
		  } else {
		    return `${dayOfMonth}.${month}.${year} ${hour}:${minutes}`
		  }
		}

		console.log(fromatDate(date))
		console.log(fromatDate(new Date() - 1))



		//#3

		//返回拥有最高薪资的人
	    let salaries = {
	      "John": 100,
	      "Pete": 300,
	      "Mary": 250
	    };
	 
	    function topSalary(salaries){
	    	const entries = Object.entries(salaries);
	    	const len = entries.length;
	    	if(!len) { return null}
	    	entries.sort((a,b) => b[1] - a[1]);
	    	const [user] = entries[0];
	    	return user

	    }

	   console.log(topSalary(salaries))


	   //# 5
	    const user = {
	        name: "张三",
	        age: 30
	    }

	    const user1 = {
	    	name : "李四",
	    	birthday: "1990-1-1",
	    	get age(){
	    		const currentYear = new Date().getFullYear();
	    		const birthday = new Date(this.birthday).getFullYear();
	    		return currentYear - birthday
	    	}

	    }

	    console.log(user1)




	    // 冒泡排序
	    // 
	    
	    const arr = [2,1,8,6,3,5,7]
	    //
	    //0 1
	    //1 2
	    //2 3
	    //3 4
	    //4 5
	    //5 6
	    debugger;
	    for(let i = 0 ;i < arr.length; i++){
	    	for(let m = 0;m<arr.length;m++){
	    		if(arr[m] > arr[m + 1]){
	    			// const temp = arr[m];

	    			// arr[m] = arr[m + 1];
	    			// arr[m+1] = temp

	    			[arr[m],arr[m+1]] = [arr[m+1],arr[m]]
	    		}
	    	}

	    }
	    console.log(arr)

	</script>
	
</body>
</html>